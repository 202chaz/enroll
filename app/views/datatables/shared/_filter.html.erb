<div class="dropdown pull-right">
  <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
    Actions 
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1">
  <% dropdowns.each do |line| %>
    <!-- line[0] is Link Name (Eg: Add SEP)
         line[1] is Link Path
         line[2] is Link Type (ajax, static or disabled) -->
    <%case line[2]%>
    <%when "disabled"%>
      <li ><%= link_to line[0], line[1], class: "btn btn-info", disabled: true%></li>
    <%when "static"%>
      <li><%= link_to line[0], line[1], class: "btn btn-info" %></li>
    <%when "ajax"%>  
      <li>
        <%#= link_to line[0], line[1], remote: true%>
        <a class="btn btn-info" role="button" data-toggle="collapse" href="#<%=line[0].delete(' ')%>_<%=family.id%>" aria-expanded="false" aria-controls="collapseExample"><%=line[0]%></a>
      </li>
    <%end%>
  <% end %>
  </ul>
</div>

<!-- <div class="collapse" id="AddSEP_<%=family.id%>">
  <div class="well">
     <h1> ADD A SEP for family ID : <%=family.id%> : <%=family.primary_applicant.person.full_name%> </h1>
  </div>
</div>


<div class="collapse" id="ViewSEPHistory_<%=family.id%>">
  <div class="well">
    VIEW SEP HISTORY VIEW SEP HISTORY VIEW SEP HISTORY VIEW SEP HISTORY VIEW SEP HISTORY VIEW SEP HISTORY VIEW SEP HISTORY
  </div>
</div> -->

<script>
  /* Formatting function for row details - modify as you need */
  function format ( family ) {
      // `d` is the original data object for the row
      return 
          '<tr>'+
              '<td colspan = "10">Full name:</td>' +
          '</tr>';
  }
   
  $(document).ready(function() {
      // Add event listener for opening and closing details
      var t = $('.effective-datatable').DataTable();
      $('body').on('click', '.btn-info', function () {
        var tr = $(this).closest('TR');
        window.pranab = tr;
        alert(tr.toString());
        table = document.getElementsByClassName('effective-datatable')[0];
        detail_row  = table.insertRow(tr.index()+1);
        td_0 = detail_row.insertCell(0);
        console.log(tr.index())
        td_0.innerHTML = tr.index()
        td_1 = detail_row.insertCell(1);
        td_1.setAttribute('colspan', 10);
        td_1.innerHTML = '<h1> Here is a widely known Headline </h1>';
  
      } );
  } );
</script>

